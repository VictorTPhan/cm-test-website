---
layout: locationdefault
---

{% assign parts = page.url | split: '/' %} {% if page.url contains '/cn/' %} {%
assign location_name = parts[2] %} {% assign logo_url = '/cn/' | append:
location_name %} {% else %} {% assign location_name = parts[1] %} {% assign
logo_url = '/' | append: location_name %} {% endif %}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.12.0/toastify.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.12.0/toastify.js"></script>

<section class="wrapper bg-custom">
    <div class="container pt-10 pb-19 pt-md-10 pb-md-20 text-center">
        <div class="row">
            <div class="col-md-10 col-xl-8 mx-auto">
                <h1 class="display-2 mb-5">
                    {% if page.description %}{{ page.description }}{% else %}{{ page.title
                    }}{% endif %}
                </h1>
                {% if page.image %}
                <div
                    style="background-image: url('{{ site.baseurl }}{{ site.assets }}{{ site.images }}/posts/{{ page.ref }}.jpg')">
                </div>
                {% endif %}
            </div>
            <!-- /column -->
        </div>
        <!-- /.row -->
    </div>
    <!-- /.container -->
</section>
<!-- /section -->

<section class="wrapper bg-light">
    <div class="container pb-12">
        <div class="row">
            <div class="col-lg-10 mx-auto">
                <div class="blog single mt-n18">
                    <div class="card shadow-lg">
                        <div class="d-flex flex-column">
                            <div class="pricing-wrapper">
                            {% if location_name == 'west-lafayette' or location_name ==
                            'sandiego' %}
                            <div class="tab-container">
                                <button class="tab-button active" onclick="showTab('monthly')">
                                    Monthly
                                </button>
                                <button class="tab-button" onclick="showTab('one-time')">
                                    Trial Class
                                </button>
                            </div>
                            {% endif %}
                                <div id="monthly" class="tab-content">
                                    <div class="pricing-container">
                                        {% if location_name == 'west-lafayette' %}
                                        <div class="pricing-card">
                                            <div class="most-popular">Most popular</div>
                                            <h2>Coding Mind - Group Class Monthly Membership</h2>
                                            <p><strong>$160</strong> per month</p>
                                            <button class="subscribe-button"
                                                onclick="handleSubscribe('price_1ObbAJDvY5Eit5treTGK0HCq', 16000, 'Group Class Membership')">
                                                Subscribe
                                            </button>
                                        </div>

                                        <div class="pricing-card">
                                            <h2>Coding Mind - 1v1 Monthly Membership</h2>
                                            <p>1 class/week</p>
                                            <p><strong>$320</strong> per month</p>
                                            <button class="subscribe-button"
                                                onclick="handleSubscribe('price_1Obb9dDvY5Eit5trqqINZr1F', 32000, '1v1 Membership')">
                                                Subscribe
                                            </button>
                                        </div>

                                        <div class="pricing-card">
                                            <h2>Coding Mind - 1v1 Monthly Membership (Fast Track)</h2>
                                            <p>2 classes/week</p>
                                            <p><strong>$512</strong> per month</p>
                                            <button class="subscribe-button"
                                                onclick="handleSubscribe('price_1Ow8iMDvY5Eit5tr2XaSfLeI', 51200, '1v1 Fast Track')">
                                                Subscribe
                                            </button>
                                        </div>

                                        <div class="pricing-card">
                                            <h2>Coding Mind - 1v1 Monthly Membership (Intensive)</h2>
                                            <p>3 classes/week</p>
                                            <p><strong>$672</strong> per month</p>
                                            <button class="subscribe-button"
                                                onclick="handleSubscribe('price_1Ow8kXDvY5Eit5trCTSA3dnL', 67200, '1v1 Intensive')">
                                                Subscribe
                                            </button>
                                        </div>
                                        {% elsif location_name == 'sandiego' %}
                                        <!-- Pricing Cards for San Diego -->
                                        <div class="pricing-card">
                                            <div class="most-popular">Most popular</div>
                                            <h2>Coding Mind - Group Class Monthly Membership</h2>
                                            <p>1 class/week</p>
                                            <p><strong>$200</strong> per month</p>
                                            <button class="subscribe-button"
                                                onclick="handleSubscribe('prod_R3sLpntwYrK0p1', 20000, 'Group Class Membership')">
                                                Register
                                            </button>
                                        </div>

                                        <div class="pricing-card">
                                            <h2>
                                                Coding Mind - 1v1 Monthly Membership (Level L1 to L2)
                                            </h2>
                                            <p>1 classes/week</p>
                                            <p><strong>$330</strong> per month</p>
                                            <button class="subscribe-button"
                                                onclick="handleSubscribe('prod_R3sOapNfypkx2g', 33000, '1v1 Junior Membership')">
                                                Register
                                            </button>
                                        </div>

                                        <div class="pricing-card">
                                            <h2>Coding Mind - 1v1 Monthly Membership (Level L3+)</h2>
                                            <p>1 classes/week</p>
                                            <p><strong>$370</strong> per month</p>
                                            <button class="subscribe-button"
                                                onclick="handleSubscribe('prod_R3sQfXDggSIO4T', 37000, '1v1 Senior Membership')">
                                                Register
                                            </button>
                                        </div>
                                        {% endif %}
                                    </div>
                                </div>

                                {% if location_name == 'sandiego' %}
                                <div id="one-time" class="tab-content" style="display: none">
                                    <div class="pricing-container">
                                        <div class="pricing-card">
                                            <h2>Coding Mind Trial Class</h2>
                                            <p>Get a taste of our classes!</p>
                                            <p><strong>$29</strong> one-time payment</p>
                                            <button class="subscribe-button"
                                                onclick="handleSubscribe('prod_QvBBSMzCIqf4YS', 2900, 'SD Trial Class')">
                                                Sign Up
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <!-- /.card -->
                </div>
                <!-- /.blog -->
            </div>
            <!-- /column -->
        </div>
        <!-- /.row -->
    </div>
    <!-- /.container -->
</section>
<!-- /section -->

<!-- Free Trial -->
<section class="wrapper bg-custom">
    <div class="container pt-12 pt-lg-14 pb-14">
        <!--/column -->
        <div class="row">
            <div class="col-md-10 offset-md-1 col-lg-8 offset-lg-2 mx-auto text-center">
                <div class="post-category mb-3 text-primary">
                    {{ site.data.home[page.locale].trial.header }}
                </div>
                <h3 class="display-4 mb-10 px-xl-10 px-xxl-15">
                    {{ site.data.home[page.locale].trial.lead }}
                </h3>
            </div>
            <!-- /column -->
        </div>

        <div class="row d-lg-flex flex-column flex-lg-row align-items-lg-center justify-content-between">
            <div class="col d-flex flex-column align-items-center align-items-lg-start" data-cue="zoomIn">
                <figure>
                    <img class="w-100" src="/assets/img/custom_photos/trial.png" alt="" />
                </figure>
            </div>

            <div class="col d-flex justify-content-center">
                <div class="d-flex flex-column align-items-center align-items-lg-start text-center" data-cue="fadeIn">
                    <h2 class="mb-3">{{ site.data.home[page.locale].trial.header2 }}</h2>
                    {% if location_name == 'sandiego' %}
                    <p>Unleash your child's coding potential with our trial class.</p>
                    <a href="../schedule-trial" class="btn btn-md btn-green rounded-pill mb-0 text-nowrap mt-4">
                        Book Your Trial Class
                    </a>
                    {% else %}
                    <p>{{ site.data.home[page.locale].trial.lead2 }}</p>
                    <a href="../schedule-trial" class="btn btn-md btn-green rounded-pill mb-0 text-nowrap mt-4">
                        {{ site.data.home[page.locale].trial.btn2 }}
                    </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    <!-- /.container -->
</section>
<!-- /section -->

<script src="https://js.stripe.com/v3/"></script>
<script>
    // DEVELOPMENT 
    // const STRIPE_PUBLIC_KEY = "pk_test_51PykoAP2pSpFqYXALxUFZVQxxxbSJP1jyyKVUJAQzr88cc7K1X6UjdX86gOxeebzRd4CQZwvOYWU57YzBnpZAjl600Yd8zgisy"
    //const API_URL = 'http://localhost:3000/api/';

    const API_URL = 'https://prod-sharemyworks-backend.herokuapp.com/api/';
    const LOCATION_NAME = "{{ location_name }}";
    const STRIPE_PUBLIC_KEY = LOCATION_NAME === "sandiego" 
        ? "pk_live_51PykoAP2pSpFqYXAXHJtAjmYzwf3kZt6K877RmO6pYp0DFCdCw08VVdXxkMySVE1HU5CiqxZC8XHjQnTZPxAflND004piDnQ7w"
        : LOCATION_NAME === "west-lafayette"
            ? "pk_live_51OSVZRDvY5Eit5tr2N0bTXCpwgUxmtzjYY4K8YQQbvbr1bv3s0JDw1KV35xKQuDwDA7fAPWjQv821cs1wlcdzEvv00Db4GFVaz"
            : "";

    function showTab(tabId) {
        document.querySelectorAll(".tab-content").forEach((content) => {
            content.style.display = "none";
        });
        document.getElementById(tabId).style.display = "block";

        document.querySelectorAll(".tab-button").forEach((button) => {
            button.classList.remove("active");
        });
        document
            .querySelector(`.tab-button[onclick="showTab('${tabId}')"]`)
            .classList.add("active");
    }


    function showFormCompletionToast() {
        Toastify({
            text: "Please complete the trial form first before proceeding, redirecting to form...",
            duration: 2000,
            gravity: "top",
            position: "center",
            style: {
                background: "#ff6b6b",
                borderRadius: "8px",
                fontSize: "16px",
                padding: "12px 20px"
            },
        }).showToast();
    }
    function showSignUpToast() {
        Toastify({
            text: "Please sign up first before proceeding, redirecting to schedule page...",
            duration: 2000,
            gravity: "top",
            position: "center",
            style: {
                background: "#ff6b6b",
                borderRadius: "8px",
                fontSize: "16px",
                padding: "12px 20px"
            },
        }).showToast();
    }

    function calculateProration(monthlyPrice) {
        const now = new Date();
        const currentMonth = now.getMonth();
        const currentYear = now.getFullYear();
        
        const lastDay = new Date(currentYear, currentMonth + 1, 0).getDate();
        
        // Calculate weeks remaining in the month
        const currentDate = now.getDate();
        const weeksInMonth = Math.ceil(lastDay / 7);
        const currentWeek = Math.ceil(currentDate / 7);
        const weeksRemaining = weeksInMonth - currentWeek + 1;
        
        // Calculate weekly rate from monthly price
        const weeklyRate = monthlyPrice / weeksInMonth;
        const proratedAmount = (weeklyRate * weeksRemaining).toFixed(2);
        
        // Next billing date remains the same - first day of next month
        const nextBillingDate = new Date(currentYear, currentMonth + 1, 1);

        return {
            proratedAmount: parseFloat(proratedAmount),
            daysRemaining: weeksRemaining,
            nextBillingDate,
            monthlyPrice,
            weeklyRate: parseFloat(weeklyRate.toFixed(2))
        };
    }

    function calculateProcessingFee(monthlyPrice) {
        const processingFeePercent = 3.5;
        const processingFee = (monthlyPrice * (processingFeePercent / 100)).toFixed(2);
        const totalAmount = (parseFloat(monthlyPrice) + parseFloat(processingFee)).toFixed(2);
        
        return {
            proratedAmount: parseFloat(totalAmount), 
            processingFee: parseFloat(processingFee),
            monthlyPrice: parseFloat(monthlyPrice),
            processingFeePercent,
            daysRemaining: null, 
            nextBillingDate: new Date(),
            type: 'processing_fee'
        };
    }

    function handleSubscribe(priceId, amount, planName) {
        const baseAmount = amount / 100;
        let details;

        if (LOCATION_NAME === 'sandiego') {
            details = calculateProcessingFee(baseAmount);
        } else {
            details = calculateProration(baseAmount);
        }
        localStorage.setItem(
            "pricingDetails",
            JSON.stringify({
                priceId,
                planName,
                amount,
                proration: details,
                locationType: LOCATION_NAME,
                calculationType: details.type
            })
        );
        // let  formCompleted = localStorage.getItem('formCompleted');
        const formCompleted = localStorage.getItem('formCompleted');
        const pendingSignupData = localStorage.getItem('pendingSignupData');
        const pendingLoginData = localStorage.getItem('pendingLoginData');
        
        if (LOCATION_NAME === 'sandiego') {
            if (planName === 'SD Trial Class') {
                if (formCompleted === 'true') {
                    window.location.href = `/${LOCATION_NAME}/payment_details`;
                } else {
                showFormCompletionToast();
                setTimeout(() => {
                    window.location.href = `/${LOCATION_NAME}/schedule-trial`;
                    }, 2000);
                }
            } else if (planName === '1v1 Junior Membership' || planName === '1v1 Senior Membership') {
                if (pendingSignupData || pendingLoginData) {
                    window.location.href = `/${LOCATION_NAME}/payment_details`;
                } else {
                    showSignUpToast();  
                    setTimeout(() => {
                        window.location.href = `/${LOCATION_NAME}/course-info-register/?organizationId=66bf6a0dcdae5300148e3a2c&course_id=1v1`;
                    }, 2000);
                }
            } else {
                // For non-trial, group class plans in San Diego
                if (pendingSignupData || pendingLoginData) {
                    window.location.href = `/${LOCATION_NAME}/payment_details`;
                } else {
                    showSignUpToast();  
                    setTimeout(() => {
                        window.location.href = `/${LOCATION_NAME}/schedule`;
                    }, 2000);
                }

            }
        } else if (LOCATION_NAME === 'west-lafayette') {
            window.location.href = `/${LOCATION_NAME}/payment_details`;
        } 
    }
</script>

<style>
    .pricing-wrapper {
        padding: 20px;
        background-color: #198cff;
        width: 100%;
        max-width: 1200px;
        margin: 0 auto;
        border-radius: 15px;
    }

    .tab-container {
        display: flex;
        justify-content: center;
        margin-bottom: 20px;
        width: 80%;
        max-width: 500px;
        margin-left: auto;
        margin-right: auto;
    }

    .tab-button {
        padding: 10px 20px;
        border: 1px solid #ddd;
        cursor: pointer;
        background-color: white;
        color: #074583;
        font-size: 1em;
        border-radius: 5px;
        margin: 0 5px;
        flex: 1;
        text-align: center;
    }

    .tab-button.active {
        background-color: #074583;
        color: white;
        border: 1px solid #074583;
    }

    .pricing-container {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
        width: 100%;
    }

    /* Individual card styling */
    .pricing-card {
        background-color: #198cff;
        border-radius: 10px;
        padding: 20px;
        color: #fff;
        text-align: center;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .pricing-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    }

    /* Header styling for the most popular tag */
    .most-popular {
        background-color: #074583;
        color: white;
        padding: 5px 10px;
        border-radius: 5px;
        display: inline-block;
        font-size: 0.8em;
        margin-bottom: 10px;
    }

    /* Button styling */
    .subscribe-button {
        margin-top: 15px;
        padding: 10px 20px;
        border: none;
        background-color: #074583;
        color: white;
        font-size: 1em;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s ease;
        width: 100%;
    }

    .subscribe-button:hover {
        background-color: #074583;
    }

    .pricing-card h2 {
        color: #fff; /* Sets the title color to white */
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
        .pricing-container {
            grid-template-columns: 1fr;
        }
    }

    @media (max-width: 480px) {
        .tab-button {
            font-size: 0.9em;
            padding: 8px 10px;
        }

        .subscribe-button {
            font-size: 0.9em;
        }

        .pricing-card {
            padding: 15px;
        }
    }
</style>